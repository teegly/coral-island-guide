@let parentFG = parentFormGroup();

<button (click)="setShowTable(!showTable())" class="btn"
        type="button">{{ showTable() ? 'Show grid' : 'Show table' }}
</button>
@if (parentFG) {
    <ng-container [formGroup]="parentFG">
        @if (parentFG.contains('season')) {
            <mat-form-field class="semi-transparent-form-field grow lg:grow-0 shrink-0 basis-auto">
                <mat-label>Season</mat-label>
                <mat-select disableOptionCentering formControlName="season" multiple>
                    <mat-select-trigger>
                        <app-multi-select-trigger [values]="parentFG.value.season ?? []"/>
                    </mat-select-trigger>
                    @for (seasonOption of Seasons; track seasonOption) {
                        <mat-option [value]="seasonOption">{{ seasonOption }}</mat-option>
                    }

                </mat-select>
            </mat-form-field>
        }

        @if (parentFG.contains('weather')) {
            <mat-form-field class="semi-transparent-form-field grow lg:grow-0 shrink-0 basis-auto">
                <mat-label>Weather</mat-label>
                <mat-select disableOptionCentering formControlName="weather" multiple>
                    <mat-select-trigger>
                        <app-multi-select-trigger [values]="parentFG.value.weather ?? []"/>
                    </mat-select-trigger>
                    @for (weatherOption of Weathers; track weatherOption) {
                        <mat-option [value]="weatherOption">{{ weatherOption }}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
        }
        @if (parentFG.contains('location') && locations().length) {
            <mat-form-field class="semi-transparent-form-field grow lg:grow-0 shrink-0 basis-auto">
                <mat-label>Location</mat-label>
                <mat-select disableOptionCentering formControlName="location">
                    <mat-option [value]="null">No filter</mat-option>
                    @for (location of locations(); track location) {
                        <mat-option [value]="location">{{ location }}</mat-option>
                    }
                </mat-select>
            </mat-form-field>
        }
        @if (parentFG.contains('hideCaught')) {
            <label class="flex items-center gap-2 cursor-pointer">
                <input type="checkbox" formControlName="hideCaught" class="w-4 h-4 cursor-pointer">
                <span class="text-white">Hide caught items</span>
            </label>
        }
    </ng-container>
}
